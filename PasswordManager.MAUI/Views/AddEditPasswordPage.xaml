<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PasswordManager.MAUI.Views.AddEditPasswordPage"
             xmlns:viewmodels="clr-namespace:PasswordManager.MAUI.ViewModels"
             xmlns:models="clr-namespace:Models.DTOs;assembly=Models"
             xmlns:controls="clr-namespace:PasswordManager.MAUI.Views.Controls"
             xmlns:fontAwesome="clr-namespace:FontAwesome"
             x:DataType="viewmodels:AddEditPasswordViewModel"
             Title="{Binding Title}">
    <!--Shell.PresentationMode="Modal"-->
    <ContentPage.Content>
        <RefreshView IsRefreshing="{Binding IsRefreshing}"
                Command="{Binding RefreshCommand}"
                IsEnabled="{Binding CanRefresh}">
            <ScrollView VerticalOptions="FillAndExpand">
                <StackLayout Padding="20" Style="{StaticResource StackLayoutCenterForm}">

                    <Label 
                Text="{Binding Title}"
                Style="{StaticResource LabelHeading}"/>

                    <Label Text="Password name:" Style="{StaticResource LabelSmall}"/>
                    <Entry
                Text="{Binding PasswordName}"
                Placeholder="Password name (e.g. URL)" 
                Style="{StaticResource EntryBase}"/>

                    <Label Text="Username:" Style="{StaticResource LabelSmall}"/>
                    <Entry
                Text="{Binding UserName}"
                Placeholder="Username" 
                Style="{StaticResource EntryBase}"/>

                    <Label Text="Password:" Style="{StaticResource LabelSmall}"/>
                    <controls:TogglePasswordEntry Placeholder="Password"
                                          Text="{Binding Password}"
                                          HidePassword="True" Style="{StaticResource TogglePasswordBase}"/>
                    <Label Text="Notes:" Style="{StaticResource LabelSmall}"/>
                    <Editor
                Text="{Binding Notes}"
                Placeholder="Notes" 
                Style="{StaticResource EditorBase}"/>

                    <Button 
                Text="Save"
                Command="{Binding SaveCommand}"
                Style="{StaticResource ButtonBase}"/>

                    <Label Text="Cancel" Style="{StaticResource LabelLink}">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding CancelCommand}" />
                        </Label.GestureRecognizers>
                    </Label>

                </StackLayout>
            </ScrollView>
        </RefreshView>
    </ContentPage.Content>
</ContentPage>